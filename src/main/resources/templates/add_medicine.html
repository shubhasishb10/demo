<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Spring Boot Application</title>
</head>
<body>
<br/>
<br/>
<div class="container">
    <a class="btn btn-primary" th:href="@{/mvc/medicine/list}">Back</a>
    <br/>
    <br/>
    <h3 class="text-center alert alert-success">Insert Medicine</h3>
    <form class="row g-3" th:action="@{/mvc/medicine/add}" method="post" th:object="${medicine}">
        <div th:if="${isUpdateRequest}">
            <input type="hidden" th:field="*{medicineId}"/>
            <input type="hidden" th:field="*{displayName}"/>
            <input type="hidden" th:field="*{companyDisplayName}"/>
            <input type="hidden" th:field="*{price}"/>
            <input type="hidden" th:field="*{volume}" />
        </div>
        <div class="col-md-6 col-xs-12 col-sm-12">
            <label for="displayName" class="form-label">Name</label>
            <input th:disabled="${isUpdateRequest}" type="text" class="form-control" id="displayName" th:field="*{displayName}"/>
            <p style="color:red" th:if="${#fields.hasErrors('displayName')}" th:errors="*{displayName}"></p>
        </div>
        <div class="col-md-6 col-xs-12 col-sm-12">
            <label for="companyDisplayName" class="form-label">Company</label>
            <input th:disabled="${isUpdateRequest}" type="text" class="form-control" id="companyDisplayName" th:field="*{companyDisplayName}"/>
            <p style="color:red" th:if="${#fields.hasErrors('companyDisplayName')}" th:errors="*{companyDisplayName}"></p>
        </div>
        <div class="col-md-6 col-xs-12 col-sm-12">
            <label for="price" class="form-label">Price</label>
            <input th:disabled="${isUpdateRequest}" type="text" class="form-control" id="price" th:field="*{price}"/>
        </div>
        <div class="col-md-6 col-xs-12 col-sm-12">
            <label for="count" class="form-label">Count</label>
            <input type="text" class="form-control" id="count" th:field="*{count}"/>
            <p style="color:red" th:if="${#fields.hasErrors('count')}" th:errors="*{count}"></p>
        </div>
        <div class="col-md-6 col-xs-12 col-sm-12">
            <label for="volume" class="form-label">ML</label>
            <input th:disabled="${isUpdateRequest}" type="text" class="form-control" id="volume" th:field="*{volume}"/>
        </div>
        <div class="col-md-6 col-xs-12 col-sm-12">
            <label for="boxNo" class="form-label">Box Number</label>
            <input type="text" class="form-control" id="boxNo" th:field="*{boxNumber}"/>
        </div>
        <button id="btn-insert" class="btn btn-primary" type="submit">Insert</button>
    </form>
</div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var var0_1 = document.getElementById('count');
        var var1_1 = document.getElementById('boxNo');
        var0_1.addEventListener('change', function(event){
            fn_0_0_01();
        });
        var1_1.addEventListener('change', function(event){
            fn_0_0_01();
        });
        function fn_0_0_01(){
            if(var1_1.value!='' && var0_1.value !='' && var0_1.value > 0) function__0_0_1_1(false);
            else function__0_0_1_1(true);
        }
        fn_0_0_01();
    });
    function function__0_0_1_1(var0_0_0){
        document.getElementById('btn-insert').disabled = var0_0_0;
    }
</script>
</html>